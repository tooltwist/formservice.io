

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>API — Tooltwist</title>
    <meta charset="utf-8">
    <meta name="description" content="Tooltwist - A Web Development Platform">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <link rel="alternate" hreflang="x-default" href="https://vuejs.org/v2/api/index.html">
    <link rel="alternate" hreflang="zh" href="https://cn.vuejs.org/v2/api/index.html">
    <link rel="alternate" hreflang="ja" href="https://jp.vuejs.org/v2/api/index.html">
    <link rel="alternate" hreflang="ru" href="https://ru.vuejs.org/v2/api/index.html">
    <link rel="alternate" hreflang="ko" href="https://kr.vuejs.org/v2/api/index.html">
    <link rel="alternate" hreflang="pt-BR" href="https://br.vuejs.org/v2/api/index.html">
    <link rel="alternate" hreflang="fr" href="https://fr.vuejs.org/v2/api/index.html">

    <meta property="og:type" content="article">
    <meta property="og:title" content="API — Tooltwist">
    <meta property="og:description" content="Tooltwist - A Web Development Platform">
    <meta property="og:image" content="https://http://tooltwist.com///images/logo.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="API — Tooltwist">
    <meta name="twitter:description" content="Tooltwist - A Web Development Platform">
    <meta name="twitter:image" content="https://http://tooltwist.com//images/logo.png">

    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
    <meta name="msapplication-TileImage" content="/images/icons/ms-icon-144x144.png">
    <link rel="icon" href="/images/logo.png" type="image/png">

    <meta name="msapplication-TileColor" content="#4fc08d">
    <meta name="theme-color" content="#4fc08d">

    <meta name="msapplication-config" content="browserconfig.xml">
    <link rel="manifest" href="/manifest.json">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Dosis:500&text=Vue.js' rel='stylesheet' type='text/css'>

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- main page styles -->
    <link rel="stylesheet" href="/css/page.css">

    <!-- this needs to be loaded before guide's inline scripts -->
    <script src="/js/vue.js"></script>
    <script>
      Vue.config.productionTip = false
      window.PAGE_TYPE = "api"
    </script>

    <!-- ga -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46852172-1', 'http://tooltwist.com/');
      ga('send', 'pageview');
    </script>

    <!-- vimeo analytics -->
    <script type="text/javascript" defer="defer" src="https://extend.vimeocdn.com/ga/72160148.js"></script>
  </head>
  <body class="docs">
    <div id="mobile-bar" >
      <a class="menu-button"></a>
      <a class="logo" href="/"></a>
    </div>
    <div id="header">
  <a id="logo" href="/">
    <img src="/images/logo.png">
    <span>Tooltwist</span>
  </a>
  <ul id="nav">
    <li>
  <a href="/v2/guide/" class="nav-link">Guide</a>
</li>
<li>
  <a href="/v2/client/" class="nav-link">Client</a>
</li>
<li>
  <a href="/v2/server/" class="nav-link">Server</a>
</li>
<li>
  <a href="/v2/schema/" class="nav-link">Schema</a>
</li>
<li>
  <a href="/v2/api/" class="nav-link current">API</a>
</li>
<!--
<li>
<a href="/v2/examples/" class="nav-link">Examples</a>
</li>
-->

<!--
<li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>
</li>
-->



  </ul>
</div>

    
      <div id="main" class="fix-sidebar">
        
          
  <div class="sidebar">
  <div class="sidebar-inner">
    <ul class="main-menu">
      <li>
  <a href="/v2/guide/" class="nav-link">Guide</a>
</li>
<li>
  <a href="/v2/client/" class="nav-link">Client</a>
</li>
<li>
  <a href="/v2/server/" class="nav-link">Server</a>
</li>
<li>
  <a href="/v2/schema/" class="nav-link">Schema</a>
</li>
<li>
  <a href="/v2/api/" class="nav-link current">API</a>
</li>
<!--
<li>
<a href="/v2/examples/" class="nav-link">Examples</a>
</li>
-->

<!--
<li>
  <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input">
  </form>
</li>
-->



    </ul>
    <div class="list">
      
        <h2>
          
          API
        </h2>
        <ul class="menu-root">
  
</ul>

      
    </div>
  </div>
</div>


<div class="content api with-sidebar ">
  
    
      <div id="ad">
</div>

    
  
  
    <h1>API</h1>
  
  
    <h2 id="selectView-GET"><a href="#selectView-GET" class="headerlink" title="selectView (GET)"></a>selectView (GET)</h2><p>Select records of a specified type</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> getMappedView(context, viewname, options)</span><br></pre></td></tr></table></figure>
<p>The returned value contains a list of record from the specified view. Without a <a href="#where">where</a> clause all records in the view will be selected.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> getMappedView(context, <span class="string">'thing'</span>, &#123; &#125;)</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//   "data": [</span></span><br><span class="line"><span class="comment">//       &#123;</span></span><br><span class="line"><span class="comment">//           "id": 4,</span></span><br><span class="line"><span class="comment">//           "description": "trashcan",</span></span><br><span class="line"><span class="comment">//           "status": "uncool",</span></span><br><span class="line"><span class="comment">//           "category": "household",</span></span><br><span class="line"><span class="comment">//           "subcategory": "kitchen",</span></span><br><span class="line"><span class="comment">//       &#125;,</span></span><br><span class="line"><span class="comment">//       ...</span></span><br><span class="line"><span class="comment">//   ]</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>
<p>Related information can also be selected using the options described below.</p>
<h4 id="REST-equivalent"><a href="#REST-equivalent" class="headerlink" title="REST equivalent"></a>REST equivalent</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl http://127.0.0.1:4000/api/APIKEY/1.0/thing</span><br></pre></td></tr></table></figure>
<p>Options can be passed as JSON in the body of the request, or as URL query<br>parameters as described below.</p>
<h3 id="where"><a href="#where" class="headerlink" title="where"></a>where</h3><p>Similar to the <em>where</em> clause of an SQL statement, the records to select can be<br>specified…</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> getMappedView(context, <span class="string">'thing_category'</span>, &#123;</span><br><span class="line">  where: &#123; <span class="attr">first_name</span>: <span class="string">'Fred'</span>, <span class="attr">last_name</span>: <span class="string">'Snurgs'</span> &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Or more explicitly</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> getMappedView(context, <span class="string">'thing_category'</span>, &#123;</span><br><span class="line">  where: &#123;</span><br><span class="line">    first_name: &#123; <span class="attr">value</span>: <span class="string">'Fred'</span>, <span class="attr">op</span>: <span class="string">'eq'</span> &#125;,</span><br><span class="line">    last_name: &#123;<span class="attr">value</span>: <span class="string">'Snurgs'</span>, <span class="attr">op</span>: <span class="string">'eq'</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Or in shortcut form</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> getMappedView(context, <span class="string">'thing_category'</span>, &#123;</span><br><span class="line">  first_name: <span class="string">'Fred'</span>,</span><br><span class="line">  last_name: <span class="string">'Snurgs'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="REST-equivalent-1"><a href="#REST-equivalent-1" class="headerlink" title="REST equivalent"></a>REST equivalent</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl http://127.0.0.1:4000/api/APIKEY/1.0/thing/4?first_name=Fred&amp;last_name=Snurgs</span><br></pre></td></tr></table></figure>
<p>For primary key access, a specific record can be accessed by providing the correct number of primary key values to the URL.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl http://127.0.0.1:4000/api/APIKEY/1.0/thing/4</span><br><span class="line"></span><br><span class="line">curl http://127.0.0.1:4000/api/APIKEY/1.0/thing_status/cool</span><br><span class="line"></span><br><span class="line">curl http://127.0.0.1:4000/api/APIKEY/1.0/thing_category/household/kitchen</span><br></pre></td></tr></table></figure>
<h3 id="refs"><a href="#refs" class="headerlink" title="refs"></a>refs</h3><p>In the schema we can define that the field(s) in one view refer to the primary key of another view. With the <em>refs</em> option we can load either just the description, or all the fields of the views referenced by the selected records.</p>
<p>In the following example, the status field in the selected <em>thing</em> record refers to the <i>thing_status</i> record with primary key ‘cool’. Since ‘desc’ is specified in the <em>refs</em> option, the description field in the <i>thing_status</i> record is returned.</p>
<p>The <em>thing</em> record also refers to a <i>thing_category</i> record via a multi-part primary key (category,subcategory). For this view the <em>refs</em> option specifies ‘all’, so all the fields in the <i>thing_category</i> view are returned.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> getMappedView(context, <span class="string">'thing_category'</span>, &#123;</span><br><span class="line">  <span class="string">"refs"</span>: <span class="string">"status=desc,categorization=all"</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//   "data": [</span></span><br><span class="line"><span class="comment">//       &#123;</span></span><br><span class="line"><span class="comment">//           "id": 4,</span></span><br><span class="line"><span class="comment">//           "description": "trashcan",</span></span><br><span class="line"><span class="comment">//           "status": "uncool",</span></span><br><span class="line"><span class="comment">//           "category": "household",</span></span><br><span class="line"><span class="comment">//           "subcategory": "kitchen",</span></span><br><span class="line"><span class="comment">//           "_references": &#123;</span></span><br><span class="line"><span class="comment">//               "status": "Mock those in possession of such an object",</span></span><br><span class="line"><span class="comment">//               "categorization": &#123;</span></span><br><span class="line"><span class="comment">//                   "category": "household",</span></span><br><span class="line"><span class="comment">//                   "subcategory": "kitchen",</span></span><br><span class="line"><span class="comment">//                   "description": "Things in the kitchen"</span></span><br><span class="line"><span class="comment">//               &#125;</span></span><br><span class="line"><span class="comment">//           &#125;</span></span><br><span class="line"><span class="comment">//       &#125;</span></span><br><span class="line"><span class="comment">//   ]</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>
<p>The mode is typically ‘desc’ or ‘all’, but if left out will default to ‘desc’.</p>
<p>To select details from all referenced records, <em>refs</em> can be specified as simply ‘desc’ or ‘all’, and this mode will be applied to all references.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> getMappedView(context, <span class="string">'thing_category'</span>, &#123;</span><br><span class="line">  refs: <span class="string">'desc'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     "data": [</span></span><br><span class="line"><span class="comment">//         &#123;</span></span><br><span class="line"><span class="comment">//             "id": 4,</span></span><br><span class="line"><span class="comment">//             "description": "trashcan",</span></span><br><span class="line"><span class="comment">//             "status": "uncool",</span></span><br><span class="line"><span class="comment">//             "category": "household",</span></span><br><span class="line"><span class="comment">//             "subcategory": "kitchen",</span></span><br><span class="line"><span class="comment">//             "_references": &#123;</span></span><br><span class="line"><span class="comment">//                 "status": "Mock those in possession of such an object",</span></span><br><span class="line"><span class="comment">//                 "categorization": "Things in the kitchen"</span></span><br><span class="line"><span class="comment">//             &#125;</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     ]</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>
<p>Avoid using this shortcut excessively or when not needed, as there is an overhead to selecting from related database tables.</p>
<h4 id="REST-equivalent-2"><a href="#REST-equivalent-2" class="headerlink" title="REST equivalent"></a>REST equivalent</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl http://127.0.0.1:4000/api/APIKEY/1.0/thing/4?refs=status=desc,categorization=all</span><br><span class="line"></span><br><span class="line">curl http://127.0.0.1:4000/api/APIKEY/1.0/thing/4?refs=desc</span><br></pre></td></tr></table></figure>
<h3 id="options"><a href="#options" class="headerlink" title="options"></a>options</h3><p>The <code>option</code> option is similar to the <em>refs</em> option, except that instead of returning details of a specific record that is referenced, it returns <em>all</em> the records of the referenced type.</p>
<p>This is primarily used when the selected record is about to be displayed and edited on a user interface, and we want to know the allowable values for a dropdown or select box.</p>
<p>In the following example we want to know the possible status codes for a <em>thing</em> being edited.</p>
<p>Note that the options are included separately to the data records, as the same values will apply to all records.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> getMappedView(context, <span class="string">'thing_category'</span>, &#123;</span><br><span class="line">	<span class="string">"options"</span>: <span class="string">"status"</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     "data": [</span></span><br><span class="line"><span class="comment">//         &#123;</span></span><br><span class="line"><span class="comment">//             "id": 4,</span></span><br><span class="line"><span class="comment">//             "description": "trashcan",</span></span><br><span class="line"><span class="comment">//             "status": "uncool",</span></span><br><span class="line"><span class="comment">//             "category": "household",</span></span><br><span class="line"><span class="comment">//             "subcategory": "kitchen"</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     ],</span></span><br><span class="line"><span class="comment">//     "options": &#123;</span></span><br><span class="line"><span class="comment">//         "status": [</span></span><br><span class="line"><span class="comment">//             &#123;</span></span><br><span class="line"><span class="comment">//                 "key": "nocomment",</span></span><br><span class="line"><span class="comment">//                 "desc": "Have no opinion on this subject"</span></span><br><span class="line"><span class="comment">//             &#125;,</span></span><br><span class="line"><span class="comment">//             &#123;</span></span><br><span class="line"><span class="comment">//                 "key": "uncool",</span></span><br><span class="line"><span class="comment">//                 "desc": "Mock those in possession of such an object"</span></span><br><span class="line"><span class="comment">//             &#125;,</span></span><br><span class="line"><span class="comment">//             &#123;</span></span><br><span class="line"><span class="comment">//                 "key": "cool",</span></span><br><span class="line"><span class="comment">//                 "desc": "Object is worthy"</span></span><br><span class="line"><span class="comment">//             &#125;,</span></span><br><span class="line"><span class="comment">//             &#123;</span></span><br><span class="line"><span class="comment">//                 "key": "huh?",</span></span><br><span class="line"><span class="comment">//                 "desc": "Who cares?"</span></span><br><span class="line"><span class="comment">//             &#125;</span></span><br><span class="line"><span class="comment">//         ]</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="REST-equivalent-3"><a href="#REST-equivalent-3" class="headerlink" title="REST equivalent"></a>REST equivalent</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl http://127.0.0.1:4000/api/APIKEY/1.0/thing/4?options=status</span><br></pre></td></tr></table></figure>
<h3 id="usedBy"><a href="#usedBy" class="headerlink" title="usedBy"></a>usedBy</h3><p>This option will include in the return data, a list of records that “use” (i.e. refer to) the record being selected.</p>
<h4 id="Single-field-primary-key"><a href="#Single-field-primary-key" class="headerlink" title="Single field primary key"></a>Single field primary key</h4><p>If the view being selected has a single primary key field, then <em>referenceName</em> will be the name of a field that refers to this view. For example, in this schema, <em>thing.status</em> refers to a <i>thing_status</i> record, which has a single field primary key.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">"thing"</span>: &#123;</span><br><span class="line">  fields: &#123;</span><br><span class="line">    ...</span><br><span class="line">    status: <span class="string">'*thing_status.status'</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">"thing_status"</span>: &#123;</span><br><span class="line">  fields: &#123;</span><br><span class="line">    status: <span class="string">'primary'</span>,</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>If we are selecting <i>thing_status</i> we can also select the <em>thing</em> records that reference it as follows.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> getMappedView(context, <span class="string">'thing'</span>, &#123;</span><br><span class="line">  where: &#123; <span class="attr">status</span>: <span class="string">'cool'</span> &#125;,</span><br><span class="line">  usedBy: <span class="string">"thing.status=desc"</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     "data": [</span></span><br><span class="line"><span class="comment">//         &#123;</span></span><br><span class="line"><span class="comment">//             "status": "cool",</span></span><br><span class="line"><span class="comment">//             "description": "Object is worthy",</span></span><br><span class="line"><span class="comment">//             "is_good": 1,</span></span><br><span class="line"><span class="comment">//             "_usedBy": &#123;</span></span><br><span class="line"><span class="comment">//                 "thing.status": [</span></span><br><span class="line"><span class="comment">//                     &#123;</span></span><br><span class="line"><span class="comment">//                         "id": 2,</span></span><br><span class="line"><span class="comment">//                         "description": "spoon"</span></span><br><span class="line"><span class="comment">//                     &#125;,</span></span><br><span class="line"><span class="comment">//                     &#123;</span></span><br><span class="line"><span class="comment">//                         "id": 5,</span></span><br><span class="line"><span class="comment">//                         "description": "fidgetspinner"</span></span><br><span class="line"><span class="comment">//                     &#125;,</span></span><br><span class="line"><span class="comment">//                     ...</span></span><br><span class="line"><span class="comment">//                 ]</span></span><br><span class="line"><span class="comment">//             &#125;</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     ]</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="Multi-field-primary-key"><a href="#Multi-field-primary-key" class="headerlink" title="Multi-field primary key"></a>Multi-field primary key</h4><p>If this view has a multi-part primary key, then we use the <em>reference alias</em> to define the records to include.</p>
<p>In this example’s schema, <em>thing</em> refers to a <i>thing_category</i> record via two fields referencing a two part primary key. The reference alias ‘categorization’ is used to clarify this relationship.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">"thing"</span>: &#123;</span><br><span class="line">  fields: &#123;</span><br><span class="line">    ...</span><br><span class="line">    category: <span class="string">'*thing_category(categorization).category'</span>,</span><br><span class="line">    subcategory: <span class="string">'*thing_category(categorization).subcategory'</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="string">"thing_category"</span>: &#123;</span><br><span class="line">  fields: &#123;</span><br><span class="line">    category: <span class="string">'primary'</span>,</span><br><span class="line">    subcategory: <span class="string">'primary'</span>,</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> getMappedView(context, <span class="string">'thing_category'</span>, &#123;</span><br><span class="line">  where: &#123;</span><br><span class="line">    category: <span class="string">"household"</span>,</span><br><span class="line">    subcategory: <span class="string">"kitchen"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  usedBy: <span class="string">"thing.categorization=desc"</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     "data": [</span></span><br><span class="line"><span class="comment">//         &#123;</span></span><br><span class="line"><span class="comment">//             "category": "household",</span></span><br><span class="line"><span class="comment">//             "subcategory": "kitchen",</span></span><br><span class="line"><span class="comment">//             "description": "Things in the kitchen",</span></span><br><span class="line"><span class="comment">//             "_usedBy": &#123;</span></span><br><span class="line"><span class="comment">//                 "thing.categorization": [</span></span><br><span class="line"><span class="comment">//                     &#123;</span></span><br><span class="line"><span class="comment">//                         "id": 1,</span></span><br><span class="line"><span class="comment">//                         "description": "table"</span></span><br><span class="line"><span class="comment">//                     &#125;,</span></span><br><span class="line"><span class="comment">//                     &#123;</span></span><br><span class="line"><span class="comment">//                         "id": 2,</span></span><br><span class="line"><span class="comment">//                         "description": "spoon"</span></span><br><span class="line"><span class="comment">//                     &#125;,</span></span><br><span class="line"><span class="comment">//                     &#123;</span></span><br><span class="line"><span class="comment">//                         "id": 4,</span></span><br><span class="line"><span class="comment">//                         "description": "trashcan"</span></span><br><span class="line"><span class="comment">//                     &#125;</span></span><br><span class="line"><span class="comment">//                 ]</span></span><br><span class="line"><span class="comment">//             &#125;</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     ]</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="Only-one-reference"><a href="#Only-one-reference" class="headerlink" title="Only one reference"></a>Only one reference</h4><p>If there is only one reference from the referring table to the table being selected, then the field name of reference alias can be excluded. For example, there is only one field in the <em>thing</em> view that refers to the <i>thing_category</i> view, so the following can be used.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> getMappedView(context, <span class="string">'thing_category'</span>, &#123;</span><br><span class="line">  where: &#123;</span><br><span class="line">    category: <span class="string">"household"</span>,</span><br><span class="line">    subcategory: <span class="string">"kitchen"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  usedBy: <span class="string">"thing"</span>        &lt;--- No field name or alias</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Be careful using this form - if you ever add a second reference between these two tables, then it is not possible to determine which reference is required, and existing code will throw an exception.</p>
<h4 id="REST-equivalent-4"><a href="#REST-equivalent-4" class="headerlink" title="REST equivalent"></a>REST equivalent</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1:3000/api/ABC123/v1.0/thing_status/cool?usedBy=thing.status</span><br></pre></td></tr></table></figure>
<h2 id="insertView-POST"><a href="#insertView-POST" class="headerlink" title="insertView (POST)"></a>insertView (POST)</h2><h2 id="updateView-PUT"><a href="#updateView-PUT" class="headerlink" title="updateView (PUT)"></a>updateView (PUT)</h2><h2 id="deleteView-DEL"><a href="#deleteView-DEL" class="headerlink" title="deleteView (DEL)"></a>deleteView (DEL)</h2>
  
  
  <div class="footer">
      <script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
<div class="bsa-cpc"></div>
<script>
  (function(){
    if(typeof _bsa !== 'undefined' && _bsa) {
    _bsa.init('default', 'CKYD62QM', 'placement:vuejsorg', {
      target: '.bsa-cpc',
      align: 'horizontal',
      disable_css: 'true'
    });
      }
  })();
</script>

    Caught a mistake or want to contribute to the documentation?
    <a href="https://github.com/vuejs/vuejs.org/blob/master/src/v2/api/index.md" target="_blank">
      Edit this page on GitHub!
    </a>
  </div>
</div>

        
      </div>
      <script src="/js/smooth-scroll.min.js"></script>
    

    <!-- main custom script for sidebars, version selects etc. -->
    <script src="/js/css.escape.js"></script>
    <script src="/js/common.js"></script>

    <!-- search -->
    <link href="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/search.css">
    <script src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script>
    [
      '#search-query-nav',
      '#search-query-sidebar',
      '#search-query-menu'
    ].forEach(function (selector) {
      if (!document.querySelector(selector)) return
      // search index defaults to v2
      var match = window.location.pathname.match(/^\/(v\d+)/)
      var version = match ? match[1] : 'v2'
      docsearch({
      appId: 'BH4D9OD16A',
      apiKey: '85cc3221c9f23bfbaa4e3913dd7625ea',
      indexName: 'vuejs',
      inputSelector: selector,
      algoliaOptions: { facetFilters: ["version:" + version] }
      })
    })
    </script>

    <!-- fastclick -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      FastClick.attach(document.body)
    }, false)
    </script>
  </body>
</html>



<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Schema — Tooltwist</title>
    <meta charset="utf-8">
    <meta name="description" content="Tooltwist - A Web Development Platform">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <link rel="alternate" hreflang="x-default" href="https://vuejs.org/v2/server/schema.html">
    <link rel="alternate" hreflang="zh" href="https://cn.vuejs.org/v2/server/schema.html">
    <link rel="alternate" hreflang="ja" href="https://jp.vuejs.org/v2/server/schema.html">
    <link rel="alternate" hreflang="ru" href="https://ru.vuejs.org/v2/server/schema.html">
    <link rel="alternate" hreflang="ko" href="https://kr.vuejs.org/v2/server/schema.html">
    <link rel="alternate" hreflang="pt-BR" href="https://br.vuejs.org/v2/server/schema.html">
    <link rel="alternate" hreflang="fr" href="https://fr.vuejs.org/v2/server/schema.html">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Schema — Tooltwist">
    <meta property="og:description" content="Tooltwist - A Web Development Platform">
    <meta property="og:image" content="https://http://tooltwist.com///images/logo.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Schema — Tooltwist">
    <meta name="twitter:description" content="Tooltwist - A Web Development Platform">
    <meta name="twitter:image" content="https://http://tooltwist.com//images/logo.png">

    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
    <meta name="msapplication-TileImage" content="/images/icons/ms-icon-144x144.png">
    <link rel="icon" href="/images/logo.png" type="image/png">

    <meta name="msapplication-TileColor" content="#4fc08d">
    <meta name="theme-color" content="#4fc08d">

    <meta name="msapplication-config" content="browserconfig.xml">
    <link rel="manifest" href="/manifest.json">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Dosis:500&text=Vue.js' rel='stylesheet' type='text/css'>

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- main page styles -->
    <link rel="stylesheet" href="/css/page.css">

    <!-- this needs to be loaded before guide's inline scripts -->
    <script src="/js/vue.js"></script>
    <script>
      Vue.config.productionTip = false
      window.PAGE_TYPE = "server"
    </script>

    <!-- ga -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46852172-1', 'http://tooltwist.com/');
      ga('send', 'pageview');
    </script>

    <!-- vimeo analytics -->
    <script type="text/javascript" defer="defer" src="https://extend.vimeocdn.com/ga/72160148.js"></script>
  </head>
  <body class="docs">
    <div id="mobile-bar" >
      <a class="menu-button"></a>
      <a class="logo" href="/"></a>
    </div>
    <div id="header">
  <a id="logo" href="/">
    <img src="/images/logo.png">
    <span>Tooltwist</span>
  </a>
  <ul id="nav">
    <li>
  <a href="/v2/guide/" class="nav-link">Guide</a>
</li>
<li>
  <a href="/v2/client/" class="nav-link">Client</a>
</li>
<li>
  <a href="/v2/server/" class="nav-link current">Server</a>
</li>
<li>
  <a href="/v2/schema/" class="nav-link">Schema</a>
</li>
<li>
  <a href="/v2/api/" class="nav-link">API</a>
</li>
<!--
<li>
<a href="/v2/examples/" class="nav-link">Examples</a>
</li>
-->

<!--
<li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>
</li>
-->



  </ul>
</div>

    
      <div id="main" class="fix-sidebar">
        
          
  <div class="sidebar">
  <div class="sidebar-inner">
    <ul class="main-menu">
      <li>
  <a href="/v2/guide/" class="nav-link">Guide</a>
</li>
<li>
  <a href="/v2/client/" class="nav-link">Client</a>
</li>
<li>
  <a href="/v2/server/" class="nav-link current">Server</a>
</li>
<li>
  <a href="/v2/schema/" class="nav-link">Schema</a>
</li>
<li>
  <a href="/v2/api/" class="nav-link">API</a>
</li>
<!--
<li>
<a href="/v2/examples/" class="nav-link">Examples</a>
</li>
-->

<!--
<li>
  <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input">
  </form>
</li>
-->



    </ul>
    <div class="list">
      
        <h2>
          
          
        </h2>
        <ul class="menu-root">
  
    

    

    
      
        <li><h3>Server</h3></li>
      
    


    <li>
      <a href="/v2/server/index.html" class="sidebar-link">Server Installation</a>
    </li>
  
    

    

    
      
    


    <li>
      <a href="/v2/server/schema.html" class="sidebar-link current">Schema</a>
    </li>
  
    

    

    
      
    


    <li>
      <a href="/v2/server/json.html" class="sidebar-link">JSON Views</a>
    </li>
  
    

    

    
      
    


    <li>
      <a href="/v2/server/deployment.html" class="sidebar-link">Deployment Options</a>
    </li>
  
</ul>

      
    </div>
  </div>
</div>


<div class="content server with-sidebar ">
  
    
      <div id="ad">
</div>

    
  
  
    <h1>Schema</h1>
  
  
    <p>Your schema file defines <em>views</em> and their relationships with each other.</p>
<p>A simple view might be defined:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">"thing"</span>: &#123;</span><br><span class="line">  fields: &#123;</span><br><span class="line">    id: <span class="string">'primary'</span>,</span><br><span class="line">    description: <span class="string">'description'</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>This definition above defines a view named “thing” with two fields.</p>
<p>The <strong>primary</strong> attribute indicates the unique key of the view. A view can have multiple primary fields, but it cannot have none.</p>
<p>The <strong>description</strong> attribute indicates a field in the view that a human will understand. For example a product ID of <em>BFL103ADW</em> is meaningless, but a description <em>Beko 10kg Front Load Washing Machine</em> is quite understandable. We’ll discuss description fields more later.</p>
<p>Views by default map onto a database table and columns matching the view and field names, but these can be overridden. Note that it is perfectly valid to have multiple views mapped to the same database table.</p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p>A field in a view may refer to a different view (In database terms, a <em>foreign key</em>):</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">"thing"</span>: &#123;</span><br><span class="line">  fields: &#123;</span><br><span class="line">    ...</span><br><span class="line">    status: <span class="string">'*thing_status'</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="string">"thing_status"</span>: &#123;</span><br><span class="line">  fields: &#123;</span><br><span class="line">    status: <span class="string">'primary'</span>,</span><br><span class="line">    description: <span class="string">'description'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>In the example above, a <em>thing</em> has a status field that points to a <i>thing_status</i> record. We can use this relationship for various purposes:</p>
<ul>
<li>to get the description of the status, or other information, from thing_status (see <a href="/v2/api#refs">refs</a>).</li>
<li>to find all possible values for the status field (see <a href="/v2/api/#options">options</a>).</li>
<li>to find all the things with a particular status (see <a href="/v2/api/#usedBy">usedBy</a>).</li>
</ul>
<h2 id="Multiple-field-primary-keys"><a href="#Multiple-field-primary-keys" class="headerlink" title="Multiple-field primary keys"></a>Multiple-field primary keys</h2><p>If the view being referenced has a multi-field primary key, we need a more explicit notation for defining the relationship, to specify the exact field mapping.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">"thing"</span>: &#123;</span><br><span class="line">  fields: &#123;</span><br><span class="line">    ...</span><br><span class="line">    category: <span class="string">'*thing_category.category'</span>,</span><br><span class="line">    subcategory: <span class="string">'*thing_category.subcategory'</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="string">"thing_category"</span>: &#123;</span><br><span class="line">  fields: &#123;</span><br><span class="line">    category: <span class="string">'primary'</span>,</span><br><span class="line">    subcategory: <span class="string">'primary'</span>,</span><br><span class="line">    description: <span class="string">'description'</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In cases where there are multiple references to the same target view, we can use a <em>reference alias</em> to clarify the mappings. In this example a thing can have two subcategories, within the same category. we give these he aliases <em>cat1</em> and <em>cat2</em>.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">"thing"</span>: &#123;</span><br><span class="line">  fields: &#123;</span><br><span class="line">    ...</span><br><span class="line">    category: <span class="string">'*thing_category(cat1).category,*thing_category(cat2).category'</span>,</span><br><span class="line">    subcategory: <span class="string">'*thing_category(cat1).subcategory'</span>,</span><br><span class="line">    subcategory2: <span class="string">'*thing_category(cat2).subcategory'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Data-Types"><a href="#Data-Types" class="headerlink" title="Data Types"></a>Data Types</h2><h2 id="User-Interface-hints"><a href="#User-Interface-hints" class="headerlink" title="User Interface hints"></a>User Interface hints</h2><p>The schema is also available to an application front-end, and can help the UI (User Interface) code decide how to display the information.</p>
<ul>
<li><strong>readonly</strong></li>
</ul>
<h2 id="Modes"><a href="#Modes" class="headerlink" title="Modes"></a>Modes</h2><p>A User Interface will commonly show different information within a view at different times. For example, in a summary list only some fields will be displayed. Or, when editing, the primary key cannot be changed.</p>
<p>To handle this we use <em>modes</em>.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">"thing"</span>: &#123;</span><br><span class="line">  ...</span><br><span class="line">  modes: &#123;</span><br><span class="line">    list: <span class="string">'id,description'</span>,</span><br><span class="line">    add: <span class="literal">true</span>,</span><br><span class="line">    edit: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In list mode we specify the fields we wish to see.</p>
<p>For add and edit modes, we simply specify that these exist (How this is interpreted is up to the front end code).</p>

  
  
  <div class="footer">
      <script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
<div class="bsa-cpc"></div>
<script>
  (function(){
    if(typeof _bsa !== 'undefined' && _bsa) {
    _bsa.init('default', 'CKYD62QM', 'placement:vuejsorg', {
      target: '.bsa-cpc',
      align: 'horizontal',
      disable_css: 'true'
    });
      }
  })();
</script>

    Caught a mistake or want to contribute to the documentation?
    <a href="https://github.com/vuejs/vuejs.org/blob/master/src/v2/server/schema.md" target="_blank">
      Edit this page on GitHub!
    </a>
  </div>
</div>

        
      </div>
      <script src="/js/smooth-scroll.min.js"></script>
    

    <!-- main custom script for sidebars, version selects etc. -->
    <script src="/js/css.escape.js"></script>
    <script src="/js/common.js"></script>

    <!-- search -->
    <link href="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/search.css">
    <script src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script>
    [
      '#search-query-nav',
      '#search-query-sidebar',
      '#search-query-menu'
    ].forEach(function (selector) {
      if (!document.querySelector(selector)) return
      // search index defaults to v2
      var match = window.location.pathname.match(/^\/(v\d+)/)
      var version = match ? match[1] : 'v2'
      docsearch({
      appId: 'BH4D9OD16A',
      apiKey: '85cc3221c9f23bfbaa4e3913dd7625ea',
      indexName: 'vuejs',
      inputSelector: selector,
      algoliaOptions: { facetFilters: ["version:" + version] }
      })
    })
    </script>

    <!-- fastclick -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      FastClick.attach(document.body)
    }, false)
    </script>
  </body>
</html>
